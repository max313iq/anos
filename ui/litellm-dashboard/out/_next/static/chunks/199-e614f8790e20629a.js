"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{92019:function(e,a,r){var t=r(57437),s=r(19226),l=r(13959),o=r(45937),i=r(92403),n=r(28595),c=r(68208),f=r(9775),d=r(41361),g=r(37527),m=r(15883),u=r(12660),x=r(88009),h=r(48231),p=r(57400),y=r(58630),b=r(44625),v=r(41169),j=r(38434),k=r(71891),S=r(55322),N=r(2265),B=r(99376),w=r(20347),_=r(79262);let{Sider:Z}=s.default,L=()=>{let e="ui/".replace(/^\/+|\/+$/g,"");return e?"/".concat(e,"/"):"/"},C=e=>{switch(e){case"api-keys":return"virtual-keys";case"llm-playground":return"test-key";case"models":return"models-and-endpoints";case"new_usage":return"usage";case"teams":return"teams";case"organizations":return"organizations";case"users":return"users";case"api_ref":return"api-reference";case"model-hub-table":return"model-hub";case"logs":return"logs";case"guardrails":return"guardrails";case"mcp-servers":return"tools/mcp-servers";case"vector-stores":return"tools/vector-stores";case"caching":return"experimental/caching";case"prompts":return"experimental/prompts";case"budgets":return"experimental/budgets";case"transform-request":return"experimental/api-playground";case"tag-management":return"experimental/tag-management";case"usage":return"experimental/old-usage";case"general-settings":return"settings/router-settings";case"settings":return"settings/logging-and-alerts";case"admin-panel":return"settings/admin-settings";case"ui-theme":return"settings/ui-theme";default:return e.replace(/^\/+/,"")}},z=e=>{let a=L(),r=C(e).replace(/^\/+|\/+$/g,"");return"".concat(a).concat(r)};a.Z=e=>{let{accessToken:a,userRole:r,defaultSelectedKey:T,collapsed:P=!1}=e,H=(0,B.useRouter)(),M=(0,B.usePathname)()||"/",I=[{key:"1",page:"api-keys",label:"Virtual Keys",icon:(0,t.jsx)(i.Z,{style:{fontSize:18}})},{key:"3",page:"llm-playground",label:"Test Key",icon:(0,t.jsx)(n.Z,{style:{fontSize:18}}),roles:w.LQ},{key:"2",page:"models",label:"Models + Endpoints",icon:(0,t.jsx)(c.Z,{style:{fontSize:18}}),roles:w.LQ},{key:"12",page:"new_usage",label:"Usage",icon:(0,t.jsx)(f.Z,{style:{fontSize:18}}),roles:[...w.ZL,...w.lo]},{key:"6",page:"teams",label:"Teams",icon:(0,t.jsx)(d.Z,{style:{fontSize:18}})},{key:"17",page:"organizations",label:"Organizations",icon:(0,t.jsx)(g.Z,{style:{fontSize:18}}),roles:w.ZL},{key:"5",page:"users",label:"Internal Users",icon:(0,t.jsx)(m.Z,{style:{fontSize:18}}),roles:w.ZL},{key:"14",page:"api_ref",label:"API Reference",icon:(0,t.jsx)(u.Z,{style:{fontSize:18}})},{key:"16",page:"model-hub-table",label:"Model Hub",icon:(0,t.jsx)(x.Z,{style:{fontSize:18}})},{key:"15",page:"logs",label:"Logs",icon:(0,t.jsx)(h.Z,{style:{fontSize:18}})},{key:"11",page:"guardrails",label:"Guardrails",icon:(0,t.jsx)(p.Z,{style:{fontSize:18}}),roles:w.ZL},{key:"26",page:"tools",label:"Tools",icon:(0,t.jsx)(y.Z,{style:{fontSize:18}}),children:[{key:"18",page:"mcp-servers",label:"MCP Servers",icon:(0,t.jsx)(y.Z,{style:{fontSize:18}})},{key:"21",page:"vector-stores",label:"Vector Stores",icon:(0,t.jsx)(b.Z,{style:{fontSize:18}}),roles:w.ZL}]},{key:"experimental",page:"experimental",label:"Experimental",icon:(0,t.jsx)(v.Z,{style:{fontSize:18}}),children:[{key:"9",page:"caching",label:"Caching",icon:(0,t.jsx)(b.Z,{style:{fontSize:18}}),roles:w.ZL},{key:"25",page:"prompts",label:"Prompts",icon:(0,t.jsx)(j.Z,{style:{fontSize:18}}),roles:w.ZL},{key:"10",page:"budgets",label:"Budgets",icon:(0,t.jsx)(g.Z,{style:{fontSize:18}}),roles:w.ZL},{key:"20",page:"transform-request",label:"API Playground",icon:(0,t.jsx)(u.Z,{style:{fontSize:18}}),roles:[...w.ZL,...w.lo]},{key:"19",page:"tag-management",label:"Tag Management",icon:(0,t.jsx)(k.Z,{style:{fontSize:18}}),roles:w.ZL},{key:"4",page:"usage",label:"Old Usage",icon:(0,t.jsx)(f.Z,{style:{fontSize:18}})}]},{key:"settings",page:"settings",label:"Settings",icon:(0,t.jsx)(S.Z,{style:{fontSize:18}}),roles:w.ZL,children:[{key:"11",page:"general-settings",label:"Router Settings",icon:(0,t.jsx)(S.Z,{style:{fontSize:18}}),roles:w.ZL},{key:"8",page:"settings",label:"Logging & Alerts",icon:(0,t.jsx)(S.Z,{style:{fontSize:18}}),roles:w.ZL},{key:"13",page:"admin-panel",label:"Admin Settings",icon:(0,t.jsx)(S.Z,{style:{fontSize:18}}),roles:w.ZL},{key:"14",page:"ui-theme",label:"UI Theme",icon:(0,t.jsx)(S.Z,{style:{fontSize:18}}),roles:w.ZL}]}],E=N.useMemo(()=>I.filter(e=>!e.roles||e.roles.includes(r)).map(e=>({...e,children:e.children?e.children.filter(e=>!e.roles||e.roles.includes(r)):void 0})),[r]),O=N.useMemo(()=>{var e,a;let r=L(),t=(M.startsWith(r)?M.slice(r.length):M.replace(/^\/+/,"")).toLowerCase(),s=e=>{let a=C(e).toLowerCase();return t===a||t.startsWith("".concat(a,"/"))};for(let e of E){if(!e.children&&s(e.page))return e.key;if(e.children){for(let a of e.children)if(s(a.page))return a.key}}let l=null===(e=E.find(e=>e.page===T))||void 0===e?void 0:e.key;if(l)return l;for(let e of E)if(null===(a=e.children)||void 0===a?void 0:a.some(e=>e.page===T))return e.children.find(e=>e.page===T).key;return"1"},[M,E,T]),R=e=>{let a=z(e);H.push(a)};return(0,t.jsx)(s.default,{style:{minHeight:"100vh",backgroundColor:"#0a0a0f"},children:(0,t.jsxs)(Z,{theme:"dark",width:220,collapsed:P,collapsedWidth:80,collapsible:!0,trigger:null,style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",background:"linear-gradient(180deg, #0a0a0f 0%, #1a1a24 100%)",borderRight:"1px solid #1e3a8a",boxShadow:"4px 0 20px rgba(37, 99, 235, 0.15)"},children:[(0,t.jsx)(l.ZP,{theme:{token:{colorPrimary:"#dc2626",colorBgContainer:"#0a0a0f",colorBgElevated:"#1a1a24",colorBorder:"#1e3a8a",colorText:"#e5e7eb",colorTextSecondary:"#9ca3af"},components:{Menu:{iconSize:18,fontSize:14,darkItemBg:"transparent",darkItemSelectedBg:"rgba(220, 38, 38, 0.15)",darkItemHoverBg:"rgba(30, 58, 138, 0.2)",darkItemColor:"#e5e7eb",darkItemSelectedColor:"#dc2626",darkItemHoverColor:"#2563eb"}}},children:(0,t.jsx)(o.Z,{mode:"inline",selectedKeys:[O],defaultOpenKeys:P?[]:["llm-tools"],inlineCollapsed:P,className:"custom-sidebar-menu",style:{borderRight:0,backgroundColor:"transparent",fontSize:"14px",color:"#e5e7eb"},items:E.map(e=>{var a;return{key:e.key,icon:e.icon,label:e.label,children:null===(a=e.children)||void 0===a?void 0:a.map(e=>({key:e.key,icon:e.icon,label:e.label,onClick:()=>R(e.page)})),onClick:e.children?void 0:()=>R(e.page)}})})}),(0,w.tY)(r)&&!P&&(0,t.jsx)(_.Z,{accessToken:a,width:220})]})})}},79262:function(e,a,r){r.d(a,{Z:function(){return u}});var t=r(57437),s=r(2265),l=r(1309),o=r(76865),i=r(70525),n=r(95805),c=r(51817),f=r(21047);r(22135),r(40875);var d=r(49663),g=r(19250);let m=function(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return a.filter(Boolean).join(" ")};function u(e){let{accessToken:a,width:r=220}=e,[u,x]=(0,s.useState)(!1),[h,p]=(0,s.useState)(!1),[y,b]=(0,s.useState)(null),[v,j]=(0,s.useState)(!1),[k,S]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{if(a){j(!0),S(null);try{let e=await (0,g.getRemainingUsers)(a);b(e)}catch(e){console.error("Failed to fetch usage data:",e),S("Failed to load usage data")}finally{j(!1)}}})()},[a]);let{isOverLimit:N,isNearLimit:B,usagePercentage:w,userMetrics:_,teamMetrics:Z}=(e=>{if(!e)return{isOverLimit:!1,isNearLimit:!1,usagePercentage:0,userMetrics:{isOverLimit:!1,isNearLimit:!1,usagePercentage:0},teamMetrics:{isOverLimit:!1,isNearLimit:!1,usagePercentage:0}};let a=!!e.total_users_remaining&&e.total_users_remaining<=0,r=!!e.total_users_remaining&&e.total_users_remaining<=5&&e.total_users_remaining>0,t=e.total_users?e.total_users_used/e.total_users*100:0,s=!!e.total_teams_remaining&&e.total_teams_remaining<=0,l=!!e.total_teams_remaining&&e.total_teams_remaining<=5&&e.total_teams_remaining>0,o=e.total_teams?e.total_teams_used/e.total_teams*100:0,i=a||s;return{isOverLimit:i,isNearLimit:(r||l)&&!i,usagePercentage:Math.max(t,o),userMetrics:{isOverLimit:a,isNearLimit:r,usagePercentage:t},teamMetrics:{isOverLimit:s,isNearLimit:l,usagePercentage:o}}})(y),L=()=>N?"red":B?"yellow":"green",C=()=>N?"Over Limit":B?"Near Limit":"Active",z=()=>N?(0,t.jsx)(o.Z,{className:"h-3 w-3"}):B?(0,t.jsx)(i.Z,{className:"h-3 w-3"}):null;return a&&((null==y?void 0:y.total_users)!==null||(null==y?void 0:y.total_teams)!==null)?(0,t.jsx)("div",{className:"fixed bottom-4 left-4 z-50",style:{width:"".concat(Math.min(r,220),"px")},children:(0,t.jsx)(()=>{if(h){let e=N||B;return(0,t.jsx)("button",{onClick:()=>p(!1),className:m("bg-white border border-gray-200 rounded-lg shadow-sm p-3 hover:shadow-md transition-all w-full",e&&N&&"border-red-200 bg-red-50",e&&B&&"border-yellow-200 bg-yellow-50"),title:"Show usage details",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.Z,{className:"h-4 w-4 flex-shrink-0"}),e&&(0,t.jsx)("span",{className:"flex-shrink-0",children:z()}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium truncate",children:[y&&null!==y.total_users&&(0,t.jsxs)("span",{className:"flex-shrink-0",children:["U: ",y.total_users_used,"/",y.total_users]}),y&&null!==y.total_teams&&(0,t.jsxs)("span",{className:"flex-shrink-0",children:["T: ",y.total_teams_used,"/",y.total_teams]}),!y||null===y.total_users&&null===y.total_teams&&(0,t.jsx)("span",{className:"truncate",children:"Usage"})]})]})})}return v?(0,t.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-4 w-full",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 py-2",children:[(0,t.jsx)(c.Z,{className:"h-4 w-4 animate-spin"}),(0,t.jsx)("span",{className:"text-sm text-gray-500 truncate",children:"Loading..."})]})}):k||!y?(0,t.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-4 group w-full",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsx)("span",{className:"text-sm text-gray-500 truncate block",children:k||"No data"})}),(0,t.jsx)("button",{onClick:()=>p(!0),className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-100 rounded transition-all flex-shrink-0",title:"Minimize",children:(0,t.jsx)(f.Z,{className:"h-3 w-3 text-gray-400"})})]})}):(0,t.jsxs)("div",{className:m("bg-white border rounded-lg shadow-sm p-3 transition-all duration-200 group w-full",N&&"border-red-200 bg-red-50",B&&"border-yellow-200 bg-yellow-50"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[(0,t.jsx)(n.Z,{className:"h-4 w-4 flex-shrink-0"}),(0,t.jsx)("span",{className:"font-medium text-sm truncate",children:"Usage"}),(N||B)&&(0,t.jsx)(l.C,{color:L(),className:"text-xs px-1.5 py-0.5 flex-shrink-0",children:C()})]}),(0,t.jsx)("button",{onClick:()=>p(!0),className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-100 rounded transition-all flex-shrink-0",title:"Minimize",children:(0,t.jsx)(f.Z,{className:"h-3 w-3 text-gray-400"})})]}),(0,t.jsxs)("div",{className:"space-y-3 text-sm",children:[null!==y.total_users&&(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-600 mb-1",children:[(0,t.jsx)(n.Z,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"font-medium",children:"Users"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-600 text-xs",children:"Used:"}),(0,t.jsxs)("span",{className:"font-medium text-right",children:[y.total_users_used,"/",y.total_users]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-600 text-xs",children:"Remaining:"}),(0,t.jsx)("span",{className:m("font-medium text-right",_.isOverLimit&&"text-red-600",_.isNearLimit&&"text-yellow-600"),children:y.total_users_remaining})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-600 text-xs",children:"Usage:"}),(0,t.jsxs)("span",{className:"font-medium text-right",children:[Math.round(_.usagePercentage),"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:m("h-2 rounded-full transition-all duration-300",_.isOverLimit&&"bg-red-500",_.isNearLimit&&"bg-yellow-500",!_.isOverLimit&&!_.isNearLimit&&"bg-green-500"),style:{width:"".concat(Math.min(_.usagePercentage,100),"%")}})})]}),null!==y.total_teams&&(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-600 mb-1",children:[(0,t.jsx)(d.Z,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"font-medium",children:"Teams"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-600 text-xs",children:"Used:"}),(0,t.jsxs)("span",{className:"font-medium text-right",children:[y.total_teams_used,"/",y.total_teams]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-600 text-xs",children:"Remaining:"}),(0,t.jsx)("span",{className:m("font-medium text-right",Z.isOverLimit&&"text-red-600",Z.isNearLimit&&"text-yellow-600"),children:y.total_teams_remaining})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-gray-600 text-xs",children:"Usage:"}),(0,t.jsxs)("span",{className:"font-medium text-right",children:[Math.round(Z.usagePercentage),"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:m("h-2 rounded-full transition-all duration-300",Z.isOverLimit&&"bg-red-500",Z.isNearLimit&&"bg-yellow-500",!Z.isOverLimit&&!Z.isNearLimit&&"bg-green-500"),style:{width:"".concat(Math.min(Z.usagePercentage,100),"%")}})})]})]})]})},{})}):null}},43494:function(e,a,r){a.Z={token:{colorPrimary:"#ff0040",colorPrimaryHover:"#ff1a55",colorPrimaryActive:"#cc0033",colorPrimaryBorder:"#ff0040",colorBgBase:"#000000",colorBgContainer:"#000000",colorBgElevated:"#0a0a0a",colorBgLayout:"#000000",colorBgSpotlight:"#0a0a0a",colorBgMask:"rgba(0, 0, 0, 0.95)",colorBorder:"#0066ff",colorBorderSecondary:"#0052cc",colorText:"#ffffff",colorTextSecondary:"#cccccc",colorTextTertiary:"#999999",colorTextQuaternary:"#666666",colorTextDisabled:"#444444",colorLink:"#00ccff",colorLinkHover:"#33d9ff",colorLinkActive:"#0099cc",colorSuccess:"#00ff88",colorSuccessBg:"#001a0f",colorSuccessBorder:"#00cc6a",colorError:"#ff0040",colorErrorBg:"#1a0008",colorErrorBorder:"#cc0033",colorWarning:"#ffaa00",colorWarningBg:"#1a1400",colorWarningBorder:"#cc8800",colorInfo:"#00ccff",colorInfoBg:"#001a26",colorInfoBorder:"#0099cc",colorFillSecondary:"rgba(255, 0, 64, 0.1)",colorFillTertiary:"rgba(0, 102, 255, 0.05)",colorFillQuaternary:"rgba(255, 255, 255, 0.02)",borderRadius:2,borderRadiusLG:4,borderRadiusSM:1,fontSize:14,fontSizeHeading1:32,fontSizeHeading2:24,fontSizeHeading3:20,fontSizeHeading4:16,fontSizeHeading5:14,boxShadow:"0 0 20px rgba(255, 0, 64, 0.3), 0 0 40px rgba(0, 102, 255, 0.2)",boxShadowSecondary:"0 0 10px rgba(255, 0, 64, 0.2)"},algorithm:void 0,components:{Layout:{headerBg:"#000000",bodyBg:"#000000",footerBg:"#000000",siderBg:"#000000",triggerBg:"#0a0a0a",triggerColor:"#ffffff"},Menu:{darkItemBg:"transparent",darkItemColor:"#ffffff",darkItemHoverBg:"rgba(0, 102, 255, 0.2)",darkItemHoverColor:"#00ccff",darkItemSelectedBg:"rgba(255, 0, 64, 0.2)",darkItemSelectedColor:"#ff0040",darkSubMenuItemBg:"#000000",itemBg:"transparent",itemColor:"#ffffff",itemHoverBg:"rgba(0, 102, 255, 0.2)",itemHoverColor:"#00ccff",itemSelectedBg:"rgba(255, 0, 64, 0.2)",itemSelectedColor:"#ff0040"},Button:{primaryColor:"#ffffff",primaryShadow:"0 0 20px rgba(255, 0, 64, 0.6), 0 0 40px rgba(255, 0, 64, 0.3)",defaultBg:"#0a0a0a",defaultColor:"#ffffff",defaultBorderColor:"#0066ff",dangerColor:"#ffffff",dangerShadow:"0 0 20px rgba(255, 0, 64, 0.6)"},Input:{colorBgContainer:"#0a0a0a",colorBorder:"#0066ff",colorText:"#ffffff",colorTextPlaceholder:"#666666",hoverBorderColor:"#00ccff",activeBorderColor:"#ff0040"},Select:{colorBgContainer:"#0a0a0a",colorBgElevated:"#0a0a0a",colorBorder:"#0066ff",colorText:"#ffffff",colorTextPlaceholder:"#666666",optionSelectedBg:"rgba(255, 0, 64, 0.2)",optionSelectedColor:"#ff0040",optionActiveBg:"rgba(0, 102, 255, 0.2)"},Table:{colorBgContainer:"#000000",colorText:"#ffffff",colorTextHeading:"#ffffff",colorBorderSecondary:"#0066ff",headerBg:"#0a0a0a",headerColor:"#ff0040",rowHoverBg:"rgba(0, 102, 255, 0.1)",rowSelectedBg:"rgba(255, 0, 64, 0.15)",rowSelectedHoverBg:"rgba(255, 0, 64, 0.25)"},Card:{colorBgContainer:"#0a0a0a",colorBorderSecondary:"#0066ff",colorTextHeading:"#ffffff",colorTextDescription:"#cccccc"},Modal:{contentBg:"#0a0a0a",headerBg:"#0a0a0a",titleColor:"#ff0040",colorText:"#ffffff"},Dropdown:{colorBgElevated:"#0a0a0a",colorText:"#ffffff",controlItemBgHover:"rgba(0, 102, 255, 0.2)",controlItemBgActive:"rgba(255, 0, 64, 0.2)"},Tabs:{cardBg:"#0a0a0a",itemColor:"#cccccc",itemHoverColor:"#00ccff",itemSelectedColor:"#ff0040",itemActiveColor:"#ff0040",inkBarColor:"#ff0040"},Form:{labelColor:"#ffffff",labelRequiredMarkColor:"#ff0040"},Notification:{colorBgElevated:"#0a0a0a",colorText:"#ffffff",colorTextHeading:"#ff0040"},Message:{contentBg:"#0a0a0a",contentPadding:"10px 16px"},Tooltip:{colorBgSpotlight:"#0a0a0a",colorTextLightSolid:"#ffffff"},Popover:{colorBgElevated:"#0a0a0a",colorText:"#ffffff"},Switch:{colorPrimary:"#ff0040",colorPrimaryHover:"#ff1a55"},Checkbox:{colorPrimary:"#ff0040",colorPrimaryHover:"#ff1a55",colorBorder:"#0066ff"},Radio:{colorPrimary:"#ff0040",colorPrimaryHover:"#ff1a55",colorBorder:"#0066ff"},Progress:{defaultColor:"#ff0040",remainingColor:"rgba(0, 102, 255, 0.3)"},Badge:{colorError:"#ff0040",colorErrorHover:"#ff1a55"},Tag:{defaultBg:"#0a0a0a",defaultColor:"#ffffff"},Divider:{colorSplit:"#0066ff"},Pagination:{itemBg:"#0a0a0a",itemActiveBg:"#ff0040",itemLinkBg:"#0a0a0a",itemInputBg:"#0a0a0a"}}}}}]);